- pipeline: apnabhai
  events:
  - type: PUSH
    refs:
    - refs/heads/main
  fail_on_prepare_env_warning: true
  resources: XLARGE
  actions:
  - action: '          - python pk.py'
    type: BUILD
    docker_image_name: library/python
    docker_image_tag: 3.13
    execute_commands:
    - "version: 1.0"
    - ""
    - "pipelines:"
    - "  default:"
    - "    - step:"
    - "        name: Checkout Repository"
    - "        image: python:3.10"
    - "        script:"
    - '          - echo "Buddy automatically checks out the repository"'
    - ""
    - "    - step:"
    - "        name: Install Dependencies"
    - "        image: python:3.10"
    - "        script:"
    - '          - python -m pip install --upgrade pip'
    - '          - pip install telebot flask aiogram pyTelegramBotAPI python-telegram-bot'
    - ""
    - "    - step:"
    - "        name: Set Execute Permissions"
    - "        image: ubuntu:latest"
    - "        script:"
    - "          - chmod +x *  # Only make the required script executable"
    - ""
    - "    - step:"
    - "        name: Run Application"
    - "        image: python:3.10"
    - "        script:"
    - '          - python pk.py'
    - ""
    - ""
    cached_dirs:
    - /root/.cache/pip
    shell: BASH
